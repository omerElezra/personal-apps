# YouTube Video Summarizer

![Python](https://img.shields.io/badge/python-v3.8+-blue.svg)
![License](https://img.shields.io/badge/license-MIT-blue.svg)

An intelligent automation tool that monitors YouTube channels, extracts video transcripts, and generates AI-powered summaries distributed via Telegram.

## üéØ Features

- **Automatic Monitoring**: Continuously monitors YouTube channels for new content
- **Multi-language Support**: Processes transcripts in Hebrew, English, and other languages
- **AI Summarization**: Uses Google Gemini AI to generate concise, intelligent summaries
- **Telegram Distribution**: Sends summaries to multiple Telegram channels simultaneously
- **Timestamp Preservation**: Maintains original video timestamps in transcripts
- **Smart Filtering**: Processes only new videos to avoid duplicates
- **Robust Logging**: Comprehensive logging with rotation for monitoring and debugging

## üîß Technical Stack

- **Python 3.8+**
- **AI Model**: Google Gemini 1.5 Flash
- **Video Processing**: YouTube Transcript API
- **Feed Monitoring**: feedparser for RSS feeds
- **Communication**: Telegram Bot API
- **Logging**: Rotating file handler with 5MB max size

## üì¶ Installation

1. **Clone the repository**:
```bash
git clone https://github.com/your-username/personal-apps.git
cd personal-apps/youtube-automation
```

2. **Install dependencies**:
```bash
pip install -r requirements.txt
```

3. **Set up environment variables**:
```bash
export GEMINI_API_KEY="your_gemini_api_key"
export TELEGRAM_BOT_TOKEN="your_telegram_bot_token"
export TELEGRAM_CHAT_ID="chat_id1,chat_id2,chat_id3"  # Comma-separated for multiple channels
export YOUTUBE_CHANNEL_ID="channel_id_to_monitor"     # Optional for monitoring mode
```

## üöÄ Usage

### Process a Specific Video
```bash
# Summarize a single YouTube video
python youtube-summerizer.py --video-url "https://youtu.be/VIDEO_ID"

# With custom settings
python youtube-summerizer.py \
  --video-url "https://youtu.be/VIDEO_ID" \
  --gemini-key "your_api_key" \
  --telegram-token "bot_token" \
  --telegram-chat-id "chat_id1,chat_id2"
```

### Monitor a YouTube Channel
```bash
# Monitor a channel for new videos (requires environment variables)
python youtube-summerizer.py

# Monitor specific channel
python youtube-summerizer.py \
  --channel-id "UC_CHANNEL_ID" \
  --gemini-key "your_api_key" \
  --telegram-token "bot_token" \
  --telegram-chat-id "chat_id"
```

### Command Line Options
```
options:
  --video-url           Direct YouTube video URL to process
  --channel-id          YouTube channel ID to monitor
  --gemini-key          Google Gemini API key
  --telegram-token      Telegram bot token
  --telegram-chat-id    Comma-separated Telegram chat IDs
  --help               Show help message and exit
```

## üìä Workflow

1. **Video Detection**: 
   - RSS feed monitoring for new uploads
   - Direct URL processing on demand

2. **Transcript Extraction**:
   - Multi-language transcript retrieval
   - Timestamp formatting preservation
   - Error handling for unavailable transcripts

3. **AI Processing**:
   - Intelligent content summarization
   - Key points extraction
   - Context-aware processing

4. **Distribution**:
   - Multi-channel Telegram delivery
   - Formatted message with metadata
   - Error handling and retry logic

## üîß Configuration

### Environment Variables
```bash
# Required
GEMINI_API_KEY="your_gemini_api_key"

# Optional (can be passed as arguments)
TELEGRAM_BOT_TOKEN="your_bot_token"
TELEGRAM_CHAT_ID="chat_id1,chat_id2"
YOUTUBE_CHANNEL_ID="channel_to_monitor"
```

### Logging Configuration
- **Log File**: `youtube_summary.log`
- **Max Size**: 5 MB per file
- **Backup Count**: 3 files
- **Level**: INFO and above
- **Format**: Timestamp, level, message

## üìù Output Examples

### Console Output
```
2025-01-15 10:30:45 - INFO - Processing video: How to Trade Stocks
2025-01-15 10:30:47 - INFO - Transcript extracted successfully (1,250 words)
2025-01-15 10:30:52 - INFO - AI summary generated
2025-01-15 10:30:53 - INFO - Sent to Telegram chat: -1001234567
```

### Telegram Message Format
```
üé• **Video Summary**

üìπ **Title**: How to Trade Stocks - Complete Guide
‚è±Ô∏è **Duration**: 15:30
üîó **Link**: https://youtu.be/VIDEO_ID

üìã **Summary**:
[AI-generated summary of key points]

ü§ñ Generated by YouTube Summarizer Bot
```

## üîê API Keys Required

1. **Google Gemini API**: 
   - Get from [Google AI Studio](https://makersuite.google.com/app/apikey)
   - Free tier available with rate limits

2. **Telegram Bot Token**: 
   - Create bot via [@BotFather](https://t.me/botfather)
   - Get chat ID by messaging [@userinfobot](https://t.me/userinfobot)

3. **YouTube Channel ID** (for monitoring):
   - Found in YouTube channel URL or using YouTube API

## üö¶ Error Handling

- **Transcript Unavailable**: Graceful fallback with user notification
- **API Rate Limits**: Automatic retry with exponential backoff
- **Network Issues**: Connection timeout and retry logic
- **Invalid URLs**: URL validation and error messages

## üìà Use Cases

- **Educational Content**: Summarize tutorials and lectures
- **News Monitoring**: Track financial or tech news channels
- **Research**: Quick content review before detailed viewing
- **Team Updates**: Share key insights across team channels

## üö¶ Status

‚úÖ **Production Ready** - Stable with comprehensive error handling and monitoring.

## üìú License

MIT License - see LICENSE file for details.
